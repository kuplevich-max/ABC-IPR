
// Lab3.cpp : Этот файл содержит функцию "main". Здесь начинается и заканчивается выполнение программы.
//


#include <omp.h>
#include <stdio.h>
#include <iostream>
#include<ctime>

#define N 10000000
#define CHUNKSIZE 100
using namespace std;

int main()
{
	//srand(time(NULL));
	int i, chunk;
	__int64 *a = new __int64[N], *b = new __int64[N], sum = 0;

	for (i = 0; i < N; i++)
	{
		a[i] = rand() % 10;
		b[i] = rand() % 10;
	}
	chunk = CHUNKSIZE;
	omp_set_dynamic(0);
	omp_set_num_threads(1000);
	unsigned int t1 = clock();
	#pragma omp parallel shared(a, b, sum) private(i) 		
		for (i = 0; i < N; i++)
		sum += a[i] * b[i];
	
	unsigned int t2 = clock();
	cout << sum << endl << t2 - t1;
}

